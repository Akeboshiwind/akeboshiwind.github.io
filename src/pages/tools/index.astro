---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const base = import.meta.env.BASE_URL;

const tools = await getCollection('tools');
const sortedTools = tools.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout title="Tools" description="A collection of useful tools">
  <h1>Tools</h1>
  <p>A collection of useful tools mostly created with Claude.</p>

  <ul class="post-list">
    {sortedTools.map(tool => (
      <li>
        <time datetime={tool.data.date.toISOString().split('T')[0]}>
          {tool.data.date.toISOString().split('T')[0]}
        </time>
        <a href={tool.data.url || `${base}tools/${tool.id.replace('.json', '')}/`}>{tool.data.title}</a>
      </li>
    ))}
  </ul>
</Layout>
